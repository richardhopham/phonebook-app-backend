(this["webpackJsonppart2a-phonebook"]=this["webpackJsonppart2a-phonebook"]||[]).push([[0],{20:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),u=n(14),o=n.n(u),i=(n(20),n(3)),s=function(e){var t=e.name,n=e.number,r=e.deletePerson;return Object(c.jsxs)("li",{children:[t," ",n,Object(c.jsx)("button",{onClick:r,children:"Delete"})]},t)},j=function(e){var t=e.persons,n=e.deletePerson;return Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsx)(s,{name:e.name,number:e.number,deletePerson:function(){return n(e.id,e.name)}},e.name)}))})},l=function(e){return Object(c.jsxs)("div",{children:["filter show with ",Object(c.jsx)("input",{value:e.newFilter,onChange:e.handleNewFilter})]})},b=function(e){return Object(c.jsxs)("form",{onSubmit:e.addPerson,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{value:e.name,onChange:e.nameChange})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{value:e.number,onChange:e.numberChange})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},d=n(4),h=n.n(d),f="/api/persons";var O={getAll:function(){return h.a.get(f).then((function(e){return e.data}))},create:function(e){return h.a.post(f,e).then((function(e){return e.data}))},update:function(e,t){return h.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},del:function(e){return h.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))}},m=function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"error",children:t})},x=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],u=Object(r.useState)(""),o=Object(i.a)(u,2),s=o[0],d=o[1],h=Object(r.useState)(""),f=Object(i.a)(h,2),x=f[0],g=f[1],p=Object(r.useState)(""),v=Object(i.a)(p,2),w=v[0],C=v[1],S=Object(r.useState)(""),P=Object(i.a)(S,2),F=P[0],k=P[1],D=Object(r.useState)(""),T=Object(i.a)(D,2),L=T[0],N=T[1],y=Object(r.useState)(""),A=Object(i.a)(y,2),B=A[0],E=A[1],I=0===w.length?n:n.filter((function(e){return e.name.toLowerCase().startsWith(w.toLowerCase())}));Object(r.useEffect)((function(){O.getAll().then((function(e){a(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(m,{message:F}),Object(c.jsx)(m,{message:L}),Object(c.jsx)(m,{message:B}),Object(c.jsx)(l,{newFilter:w,handleNewFilter:function(e){C(e.target.value)}}),Object(c.jsx)("h3",{children:"add a new "}),Object(c.jsx)(b,{name:s,nameChange:function(e){d(e.target.value)},number:x,numberChange:function(e){g(e.target.value)},addPerson:function(e){e.preventDefault();var t={name:s,number:x};n.find((function(e){return e.name===s}))?(N("".concat(s," has already been added to the phonebook")),setTimeout((function(){N(null)}),5e3)):O.create(t).then((function(e){a(n.concat(e)),k("Added ".concat(s)),setTimeout((function(){k(null)}),5e3),d(""),g("")}))}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)("ul",{children:Object(c.jsx)(j,{persons:I,deletePerson:function(e,t){window.confirm("Delete ".concat(t,"?"))&&O.del(e).then((function(){a(n.filter((function(t){return t.id!==e}))),E("Deleted ".concat(t)),setTimeout((function(){E(null)}),5e3)}))}})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),a(e),u(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root")),g()}},[[39,1,2]]]);
//# sourceMappingURL=main.6819d34c.chunk.js.map